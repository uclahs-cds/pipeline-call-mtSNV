{
  "nextflow_version": "23.10.0",
  "config": [
    "test/global.config",
    "test/test-paired-001/test.config"
  ],
  "params_file": "test/yaml/tcga/01-percent/paired.yaml",
  "cpus": 16,
  "memory_gb": 31,
  "nf_params": {
    "output_dir": "/tmp/outputs"
  },
  "envvars": {
    "SLURM_JOB_ID": "8543"
  },
  "mocks": {
    "check_path": "",
    "parse_bam_header": {
      "read_group": [
        {
          "SM": "6236134"
        }
      ]
    }
  },
  "dated_fields": [
    "params.log_output_dir",
    "params.nextflow_log_dir",
    "report.file",
    "timeline.file",
    "trace.file",
    "params.date"
  ],
  "expected_result": {
    "docker": {
      "all_group_ids": "$(for i in `id --real --groups`; do echo -n \"--group-add=$i \"; done)",
      "enabled": true,
      "runOptions": "-u $(id -u):$(id -g) $(for i in `id --real --groups`; do echo -n \"--group-add=$i \"; done)",
      "uid_and_gid": "-u $(id -u):$(id -g)"
    },
    "manifest": {
      "author": [
        "Alfredo Enrique Gonzalez",
        "Takafumi Yamaguchi",
        "Jieun Oh",
        "Kiarod Pashminehazar"
      ],
      "description": "Pipeline for calling mitochonrdial SNVs",
      "name": "call-mtSNV",
      "version": "4.0.0-rc.1"
    },
    "params": {
      "BAMQL_docker_image": "ghcr.io/uclahs-cds/bamql:1.6.1",
      "MToolBox_docker_image": "ghcr.io/uclahs-cds/mtoolbox:1.2.1-b52269e",
      "bamql_version": "1.6.1",
      "cache_intermediate_pipeline_steps": false,
      "call_heteroplasmy_version": "1.0.1",
      "dataset_id": "NFTEST-PAIRED-001",
      "date": "19970704T165655Z",
      "docker_container_registry": "ghcr.io/uclahs-cds",
      "gmapdb": "/hot/ref/mitochondria_ref/gmapdb/gmapdb_2021-03-08",
      "heteroplasmy_script_docker_image": "ghcr.io/uclahs-cds/call-heteroplasmy-script:1.0.1",
      "input": {
        "normal": {
          "BAM": "/hot/software/pipeline/pipeline-call-mtSNV/Nextflow/development/input/data/test-bams/tcga_test_file_normal_01prct.bam"
        },
        "tumor": {
          "BAM": "/hot/software/pipeline/pipeline-call-mtSNV/Nextflow/development/input/data/test-bams/tcga_test_file_tumor_01prct.bam"
        }
      },
      "input_channel_list": [
        {
          "BAM": "/hot/software/pipeline/pipeline-call-mtSNV/Nextflow/development/input/data/test-bams/tcga_test_file_normal_01prct.bam",
          "sample_ID": "6236134",
          "sample_type": "normal"
        },
        "{sample_type=tumor, sample_ID=6236134, BAM=/hot/software/pipeline/pipeline-call-mtSNV/Nextflow/development/input/data/test-bams/tcga_test_file_tumor_01prct.bam}"
      ],
      "input_string": "normal: /hot/software/pipeline/pipeline-call-mtSNV/Nextflow/development/input/data/test-bams/tcga_test_file_normal_01prct.bam\\n        tumor: /hot/software/pipeline/pipeline-call-mtSNV/Nextflow/development/input/data/test-bams/tcga_test_file_tumor_01prct.bam",
      "log_output_dir": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134/log-call-mtSNV-4.0.0-rc.1-19970704T165655Z/process-log/",
      "max_cpus": "16",
      "max_memory": "31 GB",
      "min_cpus": "1",
      "min_memory": "1 MB",
      "mitoCaller2vcf_docker_image": "ghcr.io/uclahs-cds/mitocaller2vcf:1.0.0",
      "mitoCaller2vcf_version": "1.0.0",
      "mitocaller_docker_image": "ghcr.io/uclahs-cds/mitocaller:1.0.0",
      "mitocaller_version": "1.0.0",
      "mt_ref_genome_dir": "/hot/ref/mitochondria_ref/genome_fasta/",
      "mtoolbox_version": "1.2.1-b52269e",
      "nextflow_log_dir": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134/log-call-mtSNV-4.0.0-rc.1-19970704T165655Z/",
      "output_dir": "/tmp/outputs",
      "output_dir_base": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134/mitoCaller-1.0.0/",
      "output_dir_prefix": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134",
      "patient_id": "NFTEST_01_PAIRED",
      "pipeval_version": "4.0.0-rc.2",
      "proc_resource_params": {
        "align_mtDNA_MToolBox": {
          "cpus": "6",
          "memory": "20 GB",
          "retry_strategy": {
            "memory": {
              "operand": "12 GB",
              "strategy": "add"
            }
          }
        },
        "call_heteroplasmy": {
          "cpus": "2",
          "memory": "2 GB",
          "retry_strategy": {
            "memory": {
              "operand": "3",
              "strategy": "exponential"
            }
          }
        },
        "call_mtSNV_mitoCaller": {
          "cpus": "1",
          "memory": "2 GB",
          "retry_strategy": {
            "memory": {
              "operand": "3",
              "strategy": "exponential"
            }
          }
        },
        "convert_mitoCaller2vcf_mitoCaller": {
          "cpus": "2",
          "memory": "10 GB",
          "retry_strategy": {
            "memory": {
              "operand": "5 GB",
              "strategy": "add"
            }
          }
        },
        "extract_mtDNA_BAMQL": {
          "cpus": "1",
          "memory": "2 GB",
          "retry_strategy": {
            "memory": {
              "operand": "3",
              "strategy": "exponential"
            }
          }
        },
        "validate_input": {
          "cpus": "1",
          "memory": "2 GB"
        },
        "validate_output": {
          "cpus": "1",
          "memory": "2 GB"
        }
      },
      "sample_id": "6236134",
      "sample_mode": "paired",
      "save_intermediate_files": false,
      "ucla_cds": true,
      "work_dir": "/scratch/8543"
    },
    "params_schema": {
      "base_resource_update": {
        "elements": {
          "cpus": {
            "help": "List of CPU updates",
            "required": false,
            "type": "ResourceUpdateList"
          },
          "memory": {
            "help": "List of memory updates",
            "required": false,
            "type": "ResourceUpdateList"
          }
        },
        "help": "User-defined modifications for adjusting base resource allocations for processes",
        "required": false,
        "type": "ResourceUpdateNamespace"
      },
      "cache_intermediate_pipeline_steps": {
        "default": false,
        "help": "Boolean value to indicate whether or not to cache intermediate pipeline steps",
        "required": true,
        "type": "Bool"
      },
      "dataset_id": {
        "help": "Dataset identifier",
        "required": true,
        "type": "String"
      },
      "gmapdb": {
        "default": "/hot/ref/mitochondria_ref/gmapdb/gmapdb_2021-03-08",
        "help": "Directory to gmapdb genomic index files",
        "mode": "r",
        "required": true,
        "type": "Path"
      },
      "input": {
        "elements": {
          "normal": {
            "elements": {
              "BAM": {
                "help": "Absolute path to normal sample BAM",
                "mode": "r",
                "required": true,
                "type": "Path"
              }
            },
            "help": "normal sample id and absolute path to BAM",
            "required": false,
            "type": "Namespace"
          },
          "tumor": {
            "elements": {
              "BAM": {
                "help": "Absolute path to tumor sample BAM",
                "mode": "r",
                "required": true,
                "type": "Path"
              }
            },
            "help": "tumor sample id and absolute path to BAM",
            "required": false,
            "type": "Namespace"
          }
        },
        "help": "Input samples",
        "required": true,
        "type": "InputBAMNamespace"
      },
      "mt_ref_genome_dir": {
        "default": "/hot/ref/mitochondria_ref/genome_fasta/",
        "help": "Absolute path to directory with mtDNA reference genome",
        "mode": "r",
        "required": true,
        "type": "Path"
      },
      "output_dir": {
        "help": "Absolute path to output directory",
        "mode": "w",
        "required": true,
        "type": "Path"
      },
      "patient_id": {
        "help": "Patient identifier",
        "required": true,
        "type": "String"
      },
      "save_intermediate_files": {
        "default": false,
        "help": "Boolean value to indicate whether or not to save intermediate files",
        "required": true,
        "type": "Bool"
      }
    },
    "proc_names": "[Ljava.lang.String;@dec0ded",
    "process": {
      "cache": true,
      "containerOptions": {
        "1": "--cpu-shares 1024 --cpus $task.cpus",
        "2": "--cpu-shares 1024 --cpus $task.cpus",
        "3": "--cpu-shares 1024 --cpus $task.cpus",
        "closure": "--cpu-shares 1024 --cpus $task.cpus"
      },
      "cpus": {
        "1": "1",
        "2": "2",
        "3": "3",
        "closure": "closure()"
      },
      "echo": true,
      "errorStrategy": {
        "1": "finish",
        "2": "finish",
        "3": "finish",
        "closure": "finish"
      },
      "executor": "local",
      "maxRetries": "1",
      "memory": {
        "1": "3 GB",
        "2": "6 GB",
        "3": "9 GB",
        "closure": "closure()"
      },
      "withLabel:process_high": {
        "cpus": {
          "1": "16",
          "2": "16",
          "3": "16",
          "closure": "closure()"
        },
        "memory": {
          "1": "31 GB",
          "2": "31 GB",
          "3": "31 GB",
          "closure": "closure()"
        }
      },
      "withLabel:process_low": {
        "cpus": {
          "1": "2",
          "2": "4",
          "3": "6",
          "closure": "closure()"
        },
        "memory": {
          "1": "4 GB",
          "2": "8 GB",
          "3": "12 GB",
          "closure": "closure()"
        }
      },
      "withLabel:process_medium": {
        "cpus": {
          "1": "6",
          "2": "12",
          "3": "16",
          "closure": "closure()"
        },
        "memory": {
          "1": "31 GB",
          "2": "31 GB",
          "3": "31 GB",
          "closure": "closure()"
        }
      },
      "withName:align_mtDNA_MToolBox": {
        "cpus": "6",
        "memory": {
          "1": "20 GB",
          "2": "31 GB",
          "3": "31 GB",
          "closure": "retry_updater(20 GB, add, 12 GB, $task.attempt, memory)"
        }
      },
      "withName:call_heteroplasmy": {
        "cpus": "2",
        "memory": {
          "1": "2 GB",
          "2": "6 GB",
          "3": "18 GB",
          "closure": "retry_updater(2 GB, exponential, 3, $task.attempt, memory)"
        }
      },
      "withName:call_mtSNV_mitoCaller": {
        "cpus": "1",
        "memory": {
          "1": "2 GB",
          "2": "6 GB",
          "3": "18 GB",
          "closure": "retry_updater(2 GB, exponential, 3, $task.attempt, memory)"
        }
      },
      "withName:convert_mitoCaller2vcf_mitoCaller": {
        "cpus": "2",
        "memory": {
          "1": "10 GB",
          "2": "15 GB",
          "3": "20 GB",
          "closure": "retry_updater(10 GB, add, 5 GB, $task.attempt, memory)"
        }
      },
      "withName:extract_mtDNA_BAMQL": {
        "cpus": "1",
        "memory": {
          "1": "2 GB",
          "2": "6 GB",
          "3": "18 GB",
          "closure": "retry_updater(2 GB, exponential, 3, $task.attempt, memory)"
        }
      },
      "withName:validate_input": {
        "cpus": "1",
        "memory": "2 GB"
      },
      "withName:validate_output": {
        "cpus": "1",
        "memory": "2 GB"
      }
    },
    "report": {
      "enabled": true,
      "file": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134/log-call-mtSNV-4.0.0-rc.1-19970704T165655Z/nextflow-log/report.html"
    },
    "timeline": {
      "enabled": true,
      "file": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134/log-call-mtSNV-4.0.0-rc.1-19970704T165655Z/nextflow-log/timeline.html"
    },
    "trace": {
      "enabled": true,
      "file": "/tmp/outputs/call-mtSNV-4.0.0-rc.1/6236134/log-call-mtSNV-4.0.0-rc.1-19970704T165655Z/nextflow-log/trace.txt"
    },
    "workDir": "/scratch/8543",
    "yaml": {
      "base_resource_update": {
        "elements": {
          "cpus": {
            "help": "List of CPU updates",
            "required": false,
            "type": "ResourceUpdateList"
          },
          "memory": {
            "help": "List of memory updates",
            "required": false,
            "type": "ResourceUpdateList"
          }
        },
        "help": "User-defined modifications for adjusting base resource allocations for processes",
        "required": false,
        "type": "ResourceUpdateNamespace"
      },
      "cache_intermediate_pipeline_steps": {
        "default": false,
        "help": "Boolean value to indicate whether or not to cache intermediate pipeline steps",
        "required": true,
        "type": "Bool"
      },
      "dataset_id": {
        "help": "Dataset identifier",
        "required": true,
        "type": "String"
      },
      "gmapdb": {
        "default": "/hot/ref/mitochondria_ref/gmapdb/gmapdb_2021-03-08",
        "help": "Directory to gmapdb genomic index files",
        "mode": "r",
        "required": true,
        "type": "Path"
      },
      "input": {
        "elements": {
          "normal": {
            "elements": {
              "BAM": {
                "help": "Absolute path to normal sample BAM",
                "mode": "r",
                "required": true,
                "type": "Path"
              }
            },
            "help": "normal sample id and absolute path to BAM",
            "required": false,
            "type": "Namespace"
          },
          "tumor": {
            "elements": {
              "BAM": {
                "help": "Absolute path to tumor sample BAM",
                "mode": "r",
                "required": true,
                "type": "Path"
              }
            },
            "help": "tumor sample id and absolute path to BAM",
            "required": false,
            "type": "Namespace"
          }
        },
        "help": "Input samples",
        "required": true,
        "type": "InputBAMNamespace"
      },
      "mt_ref_genome_dir": {
        "default": "/hot/ref/mitochondria_ref/genome_fasta/",
        "help": "Absolute path to directory with mtDNA reference genome",
        "mode": "r",
        "required": true,
        "type": "Path"
      },
      "output_dir": {
        "help": "Absolute path to output directory",
        "mode": "w",
        "required": true,
        "type": "Path"
      },
      "patient_id": {
        "help": "Patient identifier",
        "required": true,
        "type": "String"
      },
      "save_intermediate_files": {
        "default": false,
        "help": "Boolean value to indicate whether or not to save intermediate files",
        "required": true,
        "type": "Bool"
      }
    }
  }
}
